<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>使用Gatsby搭建文档博客</title>
    <link href="/hexo-blog/2021/05/19/build-gatsby-blog/"/>
    <url>/hexo-blog/2021/05/19/build-gatsby-blog/</url>
    
    <content type="html"><![CDATA[<h1 id="博客地址"><a href="#博客地址" class="headerlink" title="博客地址"></a>博客地址</h1><p><a href="https://lins403.github.io" alt="https://lins403.github.io"    target="_blank" >WebSite</a></p><h1 id="关于Gatsby"><a href="#关于Gatsby" class="headerlink" title="关于Gatsby"></a>关于Gatsby</h1><blockquote><p><a href="https://www.bilibili.com/video/BV1kK411772f/?spm_id_from=333.788.recommend_more_video.8">作者在ReactiveConf 2019的路演</a></p><p><a href="https://www.youtube.com/watch?v=mHFAM0CXviE">Gatsby - Full Tutorial for Beginners</a></p></blockquote><h1 id="搭建与部署"><a href="#搭建与部署" class="headerlink" title="搭建与部署"></a>搭建与部署</h1><blockquote><p><a href="https://www.gatsbyjs.cn/tutorial/">Gatsby.js 中文教程</a></p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install -g gatsby-cli<br>gatsby new hello-world https://github.com/gatsbyjs/gatsby-starter-hello-world<br><span class="hljs-built_in">cd</span> hello-world<br>gatsby develop <span class="hljs-comment">#热更新的开发环境</span><br></code></pre></td></tr></table></figure><h2 id="本地部署"><a href="#本地部署" class="headerlink" title="本地部署"></a>本地部署</h2><blockquote><p><a href="https://www.gatsbyjs.com/docs/how-to/previews-deploys-hosting/how-gatsby-works-with-github-pages/">How Gatsby Works with GitHub Pages</a></p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install gh-pages<br><br><span class="hljs-comment"># gatsby-config.js</span><br>module.exports = &#123;<br>  pathPrefix: <span class="hljs-string">&#x27;/&#x27;</span>,<br>&#125;<br><br><span class="hljs-comment"># package.json</span><br><span class="hljs-string">&quot;scripts&quot;</span>: &#123;<br><span class="hljs-string">&quot;deploy&quot;</span>: <span class="hljs-string">&quot;gatsby build --prefix-paths &amp;&amp; gh-pages -d public -b master&quot;</span><br>&#125;,<br><br>npm run deploy<br></code></pre></td></tr></table></figure><p>如果不使用gh-pages分支，就要另外建一个分支，比如 <code>source</code> 来存放源码，而将 <code>master</code> 分支仅仅用于存放打包后的静态资源</p><h2 id="github-actions"><a href="#github-actions" class="headerlink" title="github actions"></a>github actions</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># .github/workflows/deploy.yml</span><br><span class="hljs-attr">name:</span> <span class="hljs-string">Build</span> <span class="hljs-string">and</span> <span class="hljs-string">Deploy</span><br><span class="hljs-attr">on:</span> [<span class="hljs-string">push</span>]<br><span class="hljs-attr">jobs:</span><br>  <span class="hljs-attr">build-and-deploy:</span><br>    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span><br>    <span class="hljs-attr">steps:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Checkout</span> <span class="hljs-string">🛎️</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v2</span> <br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-attr">persist-credentials:</span> <span class="hljs-literal">false</span><br><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Install</span> <span class="hljs-string">and</span> <span class="hljs-string">Build</span> <span class="hljs-string">🔧</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">|</span><br><span class="hljs-string">          npm install</span><br><span class="hljs-string">          npm run build</span><br><span class="hljs-string"></span>        <span class="hljs-attr">env:</span><br>          <span class="hljs-attr">CI:</span> <span class="hljs-literal">false</span><br>          <span class="hljs-attr">GITHUB_TOKEN:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">secrets.GITHUB_TOKEN</span> <span class="hljs-string">&#125;&#125;</span> <span class="hljs-comment">#环境变量</span><br><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">🚀</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">JamesIves/github-pages-deploy-action@releases/v3</span><br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-attr">GITHUB_TOKEN:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">secrets.GITHUB_TOKEN</span> <span class="hljs-string">&#125;&#125;</span><br>          <span class="hljs-attr">BRANCH:</span> <span class="hljs-string">master</span><br>          <span class="hljs-attr">FOLDER:</span> <span class="hljs-string">public</span><br></code></pre></td></tr></table></figure><h1 id="使用主题"><a href="#使用主题" class="headerlink" title="使用主题"></a>使用主题</h1><blockquote><p><a href="https://www.gatsbyjs.com/docs/themes/#gatsby-skip-here">Themes—官方指南</a></p></blockquote><p>我是直接重新搭建了一个demo，也可以参照官方的 <a href="https://www.gatsbyjs.com/docs/how-to/plugins-and-themes/using-a-gatsby-theme/">How to Use a Theme in an Existing Site</a> </p><p>安装theme或者构建时遇到的问题：<a href="https://www.jianshu.com/p/b1e196d5956a">mozjpeg pre-build test failed</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 问题解决方法</span><br>brew install nasm<br>npm cache clean -f<br><span class="hljs-comment"># 使用这个主题构建网站</span><br>gatsby new lins403-blog LekoArts/gatsby-starter-minimal-blog<br></code></pre></td></tr></table></figure><h2 id="shadowing"><a href="#shadowing" class="headerlink" title="shadowing"></a>shadowing</h2><blockquote><p><a href="https://www.gatsbyjs.com/docs/how-to/plugins-and-themes/shadowing/">shadowing—官方指南</a></p></blockquote><ol><li><p>设置外链的target为blank</p><ul><li>新建本地的  <code>src/@lekoarts/gatsby-theme-minimal-blog/components/header-external-links.tsx</code></li><li>将 <code>https://github.com/LekoArts/gatsby-themes/blob/master/themes/gatsby-theme-minimal-blog/src/components/header-external-links.tsx</code> 的内容copy进来</li><li>修改 <code>&lt;TLink key=&#123;link.url&#125; href=&#123;link.url&#125; target=&#123;</code>_blank<code>&#125;&gt;</code></li></ul></li><li><p>引用（不修改）</p><ul><li><code>import Title from &quot;@lekoarts/gatsby-theme-minimal-blog/src/components/title&quot;</code></li></ul></li></ol><h2 id="使用github-API"><a href="#使用github-API" class="headerlink" title="使用github API"></a>使用github API</h2><blockquote><p><a href="https://dev.to/lennythedev/show-off-your-github-repos-in-your-gatsby-site-using-graphql-421l">Show off Github repos in your Gatsby site using Github GraphQL API</a></p><p><a href="https://github.com/gatsbyjs/gatsby/tree/master/packages/gatsby-source-graphql">gatsby-source-graphql</a></p><p><a href="https://github.com/smakosh/gatsby-theme-portfolio">gatsby-theme-portfolio</a></p></blockquote><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript"><span class="hljs-built_in">npm</span> install gatsby-source-graphql<br><span class="hljs-built_in">npm</span> i gatsby-source-github-api<br><span class="hljs-built_in">npm</span> install dotenv<br></code></pre></td></tr></table></figure><h2 id="再部署"><a href="#再部署" class="headerlink" title="再部署"></a>再部署</h2><p>使用主域名（不使用gh-pages分支），使用github actions，如上</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 解除原来的绑定关系</span><br>git remote remove origin<br><br><span class="hljs-comment"># 在新的项目下初始化git</span><br>git init<br><br><span class="hljs-comment"># 添加resource分支</span><br>git switch -c <span class="hljs-built_in">source</span><br><br><span class="hljs-comment"># 添加github actions</span><br>&gt;添加文件 .github/workflows/deploy.yml<br><br><span class="hljs-comment"># 绑定至远端</span><br>git remote add origin https://github.com/lins403/lins403.github.io.git<br>git add --all<br>git commit -m <span class="hljs-string">&#x27;使用gatsby-theme-minimal-blog主题后的初始化&#x27;</span><br><br><span class="hljs-comment"># 这里会和远程的source冲突，所以先把远端的source分支删了</span><br>&gt; 我觉得手动去github上删除比较好<br><br><span class="hljs-comment"># 然后再push提交</span><br>git push -u origin <span class="hljs-built_in">source</span><br></code></pre></td></tr></table></figure><p>！github actions 运行时遇到一个error：</p><p>在 <code>gatsby build</code> 时，会产生 <code>github action Error:Source GraphQL API: HTTP error 401 Unauthorized</code></p><p>解决方法：</p><blockquote><p><a href="https://docs.github.com/cn/actions/reference/environment-variables">Github actions 环境变量</a></p></blockquote><p>所以就在 deploy.yaml 中的env下添加 <code>GITHUB_TOKEN: $&#123;&#123; secrets.GITHUB_TOKEN &#125;&#125;</code> 就好了</p><h1 id="Hexo、VuePress以及Gatsby的使用体验"><a href="#Hexo、VuePress以及Gatsby的使用体验" class="headerlink" title="Hexo、VuePress以及Gatsby的使用体验"></a>Hexo、VuePress以及Gatsby的使用体验</h1><ul><li>以前使用过 Jekyll，体验很差，对这三个的上手难度和操作体验都比较满意</li><li>目前文章很少的情况下，Hexo最快，Gatsby次之，vuepress最慢</li><li>Hexo-blog使用了一个完成度很高的主题，功能强大；</li><li>Gatsby文档齐全，生态强大，自定义空间巨大，而且能用jsx实现组件化就很爽，mdx配合着用；</li><li>vuepress目前用的是 1.x 的版本，捉襟见肘，但是感觉挺适合用于一个项目的gh-pages分支，作为在线文档。</li><li>技术上的差异不怎么了解，以后再深入</li><li>目前打算将gatsby-blog做主网站，会陆续拓展功能，以后可能迁移至个人服务器；vuepress-doc就用来记录比较系统的学习笔记，比如React学习笔记；hexo-blog就用来记录比较零散的学习笔记，或者项目笔记，诸如 tips-and-tricks 之类的。</li></ul>]]></content>
    
    
    <categories>
      
      <category>博客搭建</category>
      
    </categories>
    
    
    <tags>
      
      <tag>gatsby</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>使用VuePress搭建文档博客</title>
    <link href="/hexo-blog/2021/05/17/build-vuepress-doc/"/>
    <url>/hexo-blog/2021/05/17/build-vuepress-doc/</url>
    
    <content type="html"><![CDATA[<h1 id="博客地址"><a href="#博客地址" class="headerlink" title="博客地址"></a>博客地址</h1><p><a href="https://lins403.github.io/vuepress-doc/" alt="https://lins403.github.io/vuepress-doc/"    target="_blank" >WebSite</a></p><h1 id="关于vuepress"><a href="#关于vuepress" class="headerlink" title="关于vuepress"></a>关于vuepress</h1><blockquote><p>To Be Continued</p></blockquote><h1 id="搭建与部署"><a href="#搭建与部署" class="headerlink" title="搭建与部署"></a>搭建与部署</h1><blockquote><p> <a href="https://vuepress.vuejs.org/zh/guide/">官方指南</a></p><p><a href="https://www.jianshu.com/p/6e8c608f24c8">跟着这篇文章做完，你就会搭建个人博客了！</a></p></blockquote><h2 id="本地部署"><a href="#本地部署" class="headerlink" title="本地部署"></a>本地部署</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-comment"># deploy.sh</span><br><span class="hljs-comment">#!/usr/bin/env sh</span><br><span class="hljs-built_in">set</span> -e<br>npm run build<br><span class="hljs-built_in">cd</span> docs/.vuepress/dist<br>git init<br>git add -A<br>git commit -m <span class="hljs-string">&#x27;deploy&#x27;</span><br>git push -f git@github.com:lins403/vuepress-doc.git master:gh-pages<br><span class="hljs-built_in">cd</span> -<br>rm -rf docs/.vuepress/dist<br></code></pre></td></tr></table></figure><h2 id="github-actions"><a href="#github-actions" class="headerlink" title="github actions"></a>github actions</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># .github/workflows/deploy.yml</span><br><span class="hljs-attr">name:</span> <span class="hljs-string">Build</span> <span class="hljs-string">and</span> <span class="hljs-string">Deploy</span><br><span class="hljs-attr">on:</span> [<span class="hljs-string">push</span>]<br><span class="hljs-attr">jobs:</span><br>  <span class="hljs-attr">build-and-deploy:</span><br>    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span><br>    <span class="hljs-attr">steps:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Checkout</span> <span class="hljs-string">🛎️</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v2</span> <br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-attr">persist-credentials:</span> <span class="hljs-literal">false</span><br><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Install</span> <span class="hljs-string">and</span> <span class="hljs-string">Build</span> <span class="hljs-string">🔧</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">|</span><br><span class="hljs-string">          npm install</span><br><span class="hljs-string">          npm run build</span><br><span class="hljs-string"></span>        <span class="hljs-attr">env:</span><br>          <span class="hljs-attr">CI:</span> <span class="hljs-literal">false</span><br><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">🚀</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">JamesIves/github-pages-deploy-action@releases/v3</span><br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-attr">GITHUB_TOKEN:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">secrets.GITHUB_TOKEN</span> <span class="hljs-string">&#125;&#125;</span><br>          <span class="hljs-attr">BRANCH:</span> <span class="hljs-string">gh-pages</span><br>          <span class="hljs-attr">FOLDER:</span> <span class="hljs-string">docs/.vuepress/dist</span><br></code></pre></td></tr></table></figure><h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><blockquote><p><a href="https://vuepress.vuejs.org/zh/theme/default-theme-config.html#%E9%A6%96%E9%A1%B5">默认主题配置</a></p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// docs/.vuepress/config.js</span><br><span class="hljs-built_in">module</span>.exports = &#123;<br>    <span class="hljs-attr">base</span>: <span class="hljs-string">&#x27;/vuepress-doc/&#x27;</span>,<br>    <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;小眯嘻的文档博客&#x27;</span>,<br>    <span class="hljs-attr">description</span>: <span class="hljs-string">&#x27;Just playing around&#x27;</span>,<br>    <span class="hljs-attr">head</span>: [<br>        [<span class="hljs-string">&#x27;link&#x27;</span>, &#123; <span class="hljs-attr">rel</span>: <span class="hljs-string">&#x27;icon&#x27;</span>, <span class="hljs-attr">href</span>: <span class="hljs-string">&#x27;/assets/img/config/favicon.png&#x27;</span> &#125;]<br>      ],<br>    <span class="hljs-attr">themeConfig</span>: &#123;<br>        <span class="hljs-attr">repo</span>: <span class="hljs-string">&#x27;https://github.com/lins403/vuepress-doc&#x27;</span>,<br>        <span class="hljs-attr">repoLabel</span>: <span class="hljs-string">&#x27;GitHub&#x27;</span>,<br>        <span class="hljs-attr">nav</span>: [<br>            &#123; <span class="hljs-attr">text</span>: <span class="hljs-string">&#x27;Home&#x27;</span>, <span class="hljs-attr">link</span>: <span class="hljs-string">&#x27;/&#x27;</span> &#125;,<br>            &#123; <span class="hljs-attr">text</span>: <span class="hljs-string">&#x27;HelloWorld&#x27;</span>, <span class="hljs-attr">link</span>: <span class="hljs-string">&#x27;/blog/HelloWorld.md&#x27;</span> &#125;<br>        ],<br>        <span class="hljs-attr">sidebar</span>: <span class="hljs-string">&#x27;auto&#x27;</span>,<br>        <span class="hljs-attr">lastUpdated</span>: <span class="hljs-string">&#x27;Last Updated&#x27;</span>, <span class="hljs-comment">// string | boolean</span><br>    &#125;<br>  &#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>博客搭建</category>
      
    </categories>
    
    
    <tags>
      
      <tag>vuepress</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>使用Hexo和Github Pages搭建个人博客</title>
    <link href="/hexo-blog/2021/05/14/build-hexo-blog/"/>
    <url>/hexo-blog/2021/05/14/build-hexo-blog/</url>
    
    <content type="html"><![CDATA[<h1 id="博客地址"><a href="#博客地址" class="headerlink" title="博客地址"></a>博客地址</h1><p><a href="https://lins403.github.io/hexo-blog">https://lins403.github.io/hexo-blog</a></p><h1 id="本地初始化"><a href="#本地初始化" class="headerlink" title="本地初始化"></a>本地初始化</h1><blockquote><p><a href="https://hexo.io/zh-cn/docs/setup">https://hexo.io/zh-cn/docs/setup</a></p></blockquote><h1 id="更换主题"><a href="#更换主题" class="headerlink" title="更换主题"></a>更换主题</h1><blockquote><p><a href="https://github.com/fluid-dev/hexo-theme-fluid">https://github.com/fluid-dev/hexo-theme-fluid</a></p></blockquote><h1 id="添加GitHub-Pages和SSH密钥"><a href="#添加GitHub-Pages和SSH密钥" class="headerlink" title="添加GitHub Pages和SSH密钥"></a>添加GitHub Pages和SSH密钥</h1><blockquote><p><a href="https://developer.mozilla.org/zh-CN/docs/Learn/Common_questions/Using_Github_pages">如何使用Github Pages?</a></p><p><a href="https://docs.github.com/cn/github/authenticating-to-github/adding-a-new-ssh-key-to-your-github-account">新增 SSH 密钥到 GitHub 帐户</a></p></blockquote><h1 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h1><blockquote><p><a href="https://hexo.io/zh-cn/docs/github-pages">https://hexo.io/zh-cn/docs/github-pages</a></p></blockquote><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">deploy:</span><br>  <span class="hljs-attr">type:</span> <span class="hljs-string">git</span><br>  <span class="hljs-attr">repo:</span> <span class="hljs-string">https://github.com/lins403/hexo-blog.git</span><br>  <span class="hljs-attr">branch:</span> <span class="hljs-string">gh-pages</span><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install hexo-deployer-git --save<br>hexo clean<br>hexo d -g<span class="hljs-comment">#deploy,部署之前预先生成静态文件</span><br></code></pre></td></tr></table></figure><h1 id="添加actions"><a href="#添加actions" class="headerlink" title="添加actions"></a>添加actions</h1><blockquote><p><a href="https://shanyue.tech/no-vps/github-action-guide.html#%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B">github actions 入门指南及实践</a></p></blockquote><ul><li>创建 Workflow 文件：<code>.github/workflows/deploy.yml</code></li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># 模板源于B站up主`objtube的卢克儿`的分享</span><br><span class="hljs-attr">name:</span> <span class="hljs-string">Build</span> <span class="hljs-string">and</span> <span class="hljs-string">Deploy</span><br><span class="hljs-attr">on:</span> [<span class="hljs-string">push</span>]<br><span class="hljs-attr">jobs:</span><br>  <span class="hljs-attr">build-and-deploy:</span><br>    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span><br>    <span class="hljs-attr">steps:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Checkout</span> <span class="hljs-string">🛎️</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v2</span> <br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-attr">persist-credentials:</span> <span class="hljs-literal">false</span><br><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Install</span> <span class="hljs-string">and</span> <span class="hljs-string">Build</span> <span class="hljs-string">🔧</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">|</span><br><span class="hljs-string">          npm install</span><br><span class="hljs-string">          npm run build</span><br><span class="hljs-string"></span>        <span class="hljs-attr">env:</span><br>          <span class="hljs-attr">CI:</span> <span class="hljs-literal">false</span><br><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">🚀</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">JamesIves/github-pages-deploy-action@releases/v3</span><br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-attr">GITHUB_TOKEN:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">secrets.GITHUB_TOKEN</span> <span class="hljs-string">&#125;&#125;</span><br>          <span class="hljs-attr">BRANCH:</span> <span class="hljs-string">gh-pages</span> <span class="hljs-comment"># The branch the action should deploy to.</span><br>          <span class="hljs-attr">FOLDER:</span> <span class="hljs-string">public</span> <span class="hljs-comment"># The folder the action should deploy.</span><br></code></pre></td></tr></table></figure><h1 id="完整操作"><a href="#完整操作" class="headerlink" title="完整操作"></a>完整操作</h1><ul><li><a href="https://itrhx.blog.csdn.net/article/details/82121420">使用 Github Pages 和 Hexo 搭建自己的独立博客【超级详细的小白教程】</a></li><li><a href="https://www.bilibili.com/video/BV1dt4y1Q7UE">Luke教你20分钟快速搭建个人博客系列(hexo篇) </a></li></ul>]]></content>
    
    
    <categories>
      
      <category>博客搭建</category>
      
    </categories>
    
    
    <tags>
      
      <tag>hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
